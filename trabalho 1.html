<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>contagem de caractere</title>
  </head>
  <body>
      <textarea rows="8" cols="80"></textarea>
    <p>
      <output>0</output> caractere(s)
    </p>
    <script type="text/javascript">
      a=(document.querySelector('body')).childNodes[1]
      a.setAttribute('id',"texto");
      a.setAttribute('maxlength',"140");
      a=document.querySelector('output')
      a.setAttribute('id',"saida");
      onkeyup = function (){
        var string=document.getElementById('texto').value.length;
        if (parseInt(document.querySelector('output').value)>document.getElementById('texto').value.length) {
          valor--;
        }
        var valor=parseInt(string);
        document.getElementById('saida').textContent=valor;
      }
      document.querySelector('body').setAttribute("bgcolor","#008080");
      document.querySelector('body').setAttribute("align","center");
      var a=document.createElement('h1');
      b=document.createTextNode("Contagem de caracteres!");
      c=document.querySelector('body');
      c.appendChild(a);
      a.appendChild(b);
      a=document.querySelector('h1');b=document.getElementById('texto');
      c.insertBefore(a,b);
    </script>
  </body>
</html>
